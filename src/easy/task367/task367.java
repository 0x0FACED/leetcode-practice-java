class Solution {
    public boolean isPerfectSquare(int num) {
        // 1.   0000 0001
        // 2.   0000 0010
        // 3.   0000 0011
        // 4.   0000 0100 - sqrt
        // 5.   0000 0101
        // 6.   0000 0110
        // 7.   0000 0111
        // 8.   0000 1000
        // 9.   0000 1001 - sqrt
        // 10.  0000 1010
        // 11.  0000 1011
        // 12.  0000 1100
        // 13.  0000 1101
        // 14.  0000 1110
        // 15.  0000 1111
        // 16.  0001 0000 - sqrt
        // 17.  0001 0001
        // 18.  0001 0010
        // 19.  0001 0011
        // 20.  0001 0100
        // 21.  0001 0101
        // 22.  0001 0110
        // 23.  0001 0111
        // 24.  0001 1000
        // 25.  0001 1001 - sqrt

        long sqrt = 0;
        for (int mask = 1 << 15; mask > 0; mask >>= 1) {
            sqrt |= mask;
            sqrt ^= (sqrt * sqrt <= num) ? 0 : mask;
        }
        return sqrt * sqrt == num;
    }
}
